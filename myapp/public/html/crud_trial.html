<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<title>mDrift Accounting Central | Accounting Simplified for Everyone at mDrift!</title>
	<meta name="description" content="Splasher is a Dashboard & Admin Site Responsive Template by hencework." />
	<meta name="keywords" content="admin, admin dashboard, admin template, cms, crm, Splasher Admin, Splasheradmin, premium admin templates, responsive admin, sass, panel, software, ui, visualization, web app, application" />
	<meta name="author" content="hencework"/>
	
	<!-- Favicon -->
	<link rel="shortcut icon" href="favicon.ico">
	<link rel="icon" href="favicon.ico" type="image/x-icon">
	
	<!-- Data table CSS -->
	<link href="/vendors/bower_components/datatables/media/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css"/>
	
	<!-- Toast CSS -->
	<link href="../vendors/bower_components/jquery-toast-plugin/dist/jquery.toast.min.css" rel="stylesheet" type="text/css">
	
	<!-- Morris Charts CSS -->
    <link href="../vendors/bower_components/morris.js/morris.css" rel="stylesheet" type="text/css"/>
	
	<!-- Chartist CSS -->
	<link href="../vendors/bower_components/chartist/dist/chartist.min.css" rel="stylesheet" type="text/css"/>
	
	
	<!-- vector map CSS -->
	<link href="../vendors/vectormap/jquery-jvectormap-2.0.2.css" rel="stylesheet" type="text/css"/>
	
	<!-- Custom CSS -->
	<link href="stylesheets/style.css" rel="stylesheet" type="text/css">
	<link href="stylesheets/toastr.min.css" rel="stylesheet" type="text/css">
</head>

<body>
	<!-- Preloader-->

	<div class="preloader-it">
		<div class="la-anim-1"></div>
	</div> 
	
	<!-- /Preloader -->
    <div class="wrapper theme-2-active navbar-top-light horizontal-nav">
		<!-- Top Menu Items -->
			<nav class="navbar navbar-inverse navbar-fixed-top">
				<div class="nav-wrap">
				<div class="mobile-only-brand pull-left">
					<div class="nav-header pull-left">
						<div class="logo-wrap">
							<a href="index.html">
								<img class="brand-img" src="/images/logo_mdrift1.png" alt="brand"/>
								<span class="brand-text"><img  src="/images/logo_mdrift1.png" alt="brand"/></span>
							</a>
						</div>
					</div>	
					
					
				</div>
				<div id="mobile_only_nav" class="mobile-only-nav pull-right">
					<ul class="nav navbar-right top-nav pull-right">
						

						<li>
							<a id="open_right_sidebar" href="#"><i class="zmdi zmdi-settings  top-nav-icon"></i></a>
						</li>
						<li class="dropdown auth-drp">
							<a href="#" class="dropdown-toggle pr-0" data-toggle="dropdown"><img src="/images/user1.png" alt="user_auth" class="user-auth-img img-circle"/><span class="user-online-status"></span><span class="user-auth-name inline-block">micheal hogan <span class="ti-angle-down"></span></span></a>
							<ul class="dropdown-menu user-auth-dropdown" data-dropdown-in="flipInX" data-dropdown-out="flipOutX">
								<li>
									<a href="profile.html"><i class="zmdi zmdi-account"></i><span>Profile</span></a>
								</li>
								<li>
									<a href="#"><i class="zmdi zmdi-card"></i><span>my balance</span></a>
								</li>
								<li>
									<a href="inbox.html"><i class="zmdi zmdi-email"></i><span>Inbox</span></a>
								</li>
								<li>
									<a href="#"><i class="zmdi zmdi-settings"></i><span>Settings</span></a>
								</li>
								<li class="divider"></li>
								<li class="sub-menu show-on-hover">
									<a href="#" class="dropdown-toggle pr-0 level-2-drp"><i class="zmdi zmdi-check text-success"></i> available</a>
									<ul class="dropdown-menu open-left-side">
										<li>
											<a href="#"><i class="zmdi zmdi-check text-success"></i><span>available</span></a>
										</li>
										<li>
											<a href="#"><i class="zmdi zmdi-circle-o text-warning"></i><span>busy</span></a>
										</li>
										<li>
											<a href="#"><i class="zmdi zmdi-minus-circle-outline text-danger"></i><span>offline</span></a>
										</li>
									</ul>	
								</li>
								<li class="divider"></li>
								<li>
									<a href="#"><i class="zmdi zmdi-power"></i><span>Log Out</span></a>
								</li>
							</ul>
						</li>
					</ul>
				</div>	
				</div>
			</nav>
			<!-- /Top Menu Items -->
			
			<!-- Left Sidebar Menu -->
			<div class="fixed-sidebar-left">
				<ul class="nav navbar-nav side-nav nicescroll-bar">
					<li class="navigation-header">
						<span>Main</span> 
						<hr/>
					</li>
					<li>
						<a class="active" href="javascript:void(0);" data-toggle="collapse" data-target="#dashboard_dr"><div class="pull-left"><i class="ti-dashboard mr-20"></i><span class="right-nav-text">Insights</span></div><div class="pull-right"><i class="ti-angle-down"></i></div><div class="clearfix"></div></a>
						<ul id="dashboard_dr" class="collapse collapse-level-1">
							<li>
								<a class="active-page" href="index.html">Dashboard</a>
							</li>
							<li>
								<a href="index2.html"><div class="pull-left"><span>Reports</span></div><div class="pull-right"><span class="label label-success">Hot</span></div><div class="clearfix"></div></a>
							</li>
							<li>
								<a href="profile.html">Search</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="javascript:void(0);" data-toggle="collapse" data-target="#ecom_dr"><div class="pull-left"><i class="ti-shopping-cart  mr-20"></i><span class="right-nav-text">Income</span></div><div class="pull-right"><i class="ti-angle-down"></i></div><div class="clearfix"></div></a>
						<ul id="ecom_dr" class="collapse collapse-level-1">
							<li>
								<a href="e-commerce.html">From Projects</a>
							</li>
							<li>
								<a href="product.html">From Staffing</a>
							</li>
							<li>
								<a href="product-detail.html">From Products</a>
							</li>
							<li>
								<a href="add-products.html">Loans</a>
							</li>
							<li>
								<a href="product-orders.html">Investments</a>
							</li>
							<li>
								<a href="product-cart.html">Tax Refunds</a>
							</li>
							<li>
								<a href="product-checkout.html">Other</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="javascript:void(0);" data-toggle="collapse" data-target="#app_dr"><div class="pull-left"><i class="ti-image mr-20"></i><span class="right-nav-text">Expenses </span></div><div class="pull-right"><i class="ti-angle-down"></i></div><div class="clearfix"></div></a>
						<ul id="app_dr" class="collapse collapse-level-1">
							<li>
								<a href="javascript:void(0);" data-toggle="collapse" data-target="#email_dr">People<div class="pull-right"><i class="ti-angle-down "></i></div><div class="clearfix"></div></a>
								<ul id="email_dr" class="collapse collapse-level-2">
									<li>
										<a href="inbox.html">Salary</a>
									</li>
									<li>
										<a href="inbox-detail.html">Bonus</a>
									</li>
									<li>
										<a href="inbox-detail.html">Reimbursements</a>
									</li>
								</ul>
							</li>
							<li>
								<a href="javascript:void(0);" data-toggle="collapse" data-target="#email_dr">Department<div class="pull-right"><i class="ti-angle-down "></i></div><div class="clearfix"></div></a>
								<ul id="email_dr" class="collapse collapse-level-2">
									<li>
										<a href="inbox.html">Claims</a>
									</li>
									<li>
										<a href="inbox-detail.html">Budget</a>
									</li>
									<li>
										<a href="inbox-detail.html">Miscellaneous</a>
									</li>
								</ul>
							</li>
							<li>
							<a href="javascript:void(0);" data-toggle="collapse" data-target="#email_dr">Facilities<div class="pull-right"><i class="ti-angle-down "></i></div><div class="clearfix"></div></a>
								<ul id="email_dr" class="collapse collapse-level-2">
									<li>
										<a href="inbox.html">Rents</a>
									</li>
									<li>
										<a href="inbox-detail.html">Advances</a>
									</li>
									<li>
										<a href="inbox-detail.html">Purchases</a>
									</li>
								</ul>
							</li>
							<li>
								<a href="weather.html">Digital</a>
							</li>
							<li>
								<a href="weather.html">Credit Card</a>
							</li>
							<li>
								<a href="javascript:void(0);" data-toggle="collapse" data-target="#email_dr">Reimbursements<div class="pull-right"><i class="ti-angle-down "></i></div><div class="clearfix"></div></a>
								<ul id="email_dr" class="collapse collapse-level-2">
									<li>
										<a href="inbox.html">People</a>
									</li>
									<li>
										<a href="inbox-detail.html">Petty Cash</a>
									</li>
								</ul>
							</li>
							<li>
								<a href="javascript:void(0);" data-toggle="collapse" data-target="#email_dr">Loan Interests<div class="pull-right"><i class="ti-angle-down "></i></div><div class="clearfix"></div></a>
								<ul id="email_dr" class="collapse collapse-level-2">
									<li>
										<a href="inbox.html">Directors</a>
									</li>
									<li>
										<a href="inbox-detail.html">Non Director/ Entities</a>
									</li>
								</ul>
							</li>
							
						</ul>
					</li>
					<li class="navigation-header mt-20">
						<span>component</span> 
						<hr/>
					</li>
					<li>
						<a href="javascript:void(0);" data-toggle="collapse" data-target="#ui_dr"><div class="pull-left"><i class="ti-pencil-alt  mr-20"></i><span class="right-nav-text">Transactions</span></div><div class="pull-right"><i class="ti-angle-down "></i></div><div class="clearfix"></div></a>
						<ul id="ui_dr" class="collapse collapse-level-1 one-col-list">
							<li>
								<a href="panels-wells.html">View Transactions</a>
							</li>
							<li>
								<a href="panels-wells.html">Report Transaction</a>
							</li>

							<li>
								<a href="javascript:void(0);" data-toggle="collapse" data-target="#email_dr">Banks<div class="pull-right"><i class="ti-angle-down "></i></div><div class="clearfix"></div></a>
								<ul id="email_dr" class="collapse collapse-level-2">
									<li>
										<a href="inbox.html">Icici Bank</a>

									</li>
									<li>
										<a href="inbox.html">South Indian</a>

									</li>
									<li>
										<a href="inbox.html">Other Bank</a>

									</li>

								</ul>
							</li>
							
						</ul>
					</li>

					<li>
						<a href="javascript:void(0);" data-toggle="collapse" data-target="#ui_dr"><div class="pull-left"><i class="ti-pencil-alt  mr-20"></i><span class="right-nav-text">Cost Centers</span></div><div class="pull-right"><i class="ti-angle-down "></i></div><div class="clearfix"></div></a>
						<ul id="ui_dr" class="collapse collapse-level-1 one-col-list">
							<li>
								<a href="panels-wells.html">Internal Groups</a>
							</li>
							<li>
								<a href="modals.html">Vendors</a>
							</li>
							<li>
								<a href="sweetalert.html">Customers</a>
							</li>
							<li>
								<a href="sweetalert.html">People Accounts</a>
							</li>
							<li>
								<a href="notifications.html">Reports on Cost Centers</a>
							</li>
						</ul>
					</li>

					<li>
						<a href="javascript:void(0);" data-toggle="collapse" data-target="#ui_dr"><div class="pull-left"><i class="ti-pencil-alt  mr-20"></i><span class="right-nav-text">Billing</span></div><div class="pull-right"><i class="ti-angle-down "></i></div><div class="clearfix"></div></a>
						<ul id="ui_dr" class="collapse collapse-level-1 one-col-list">
							<li>
								<a href="panels-wells.html">View Invoices</a>
							</li>
							<li>
								<a href="modals.html">Create Invoice</a>
							</li>
							<li>
								<a href="sweetalert.html">Manage Customers</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="javascript:void(0);" data-toggle="collapse" data-target="#ui_dr"><div class="pull-left"><i class="ti-pencil-alt  mr-20"></i><span class="right-nav-text">Approvals</span></div><div class="pull-right"><i class="ti-angle-down "></i></div><div class="clearfix"></div></a>
						<ul id="ui_dr" class="collapse collapse-level-1 one-col-list">
							<li>
								<a href="panels-wells.html">Approval Queue</a>
							</li>
							<li>
								<a href="modals.html">My Approvals</a>
							</li>
						</ul>
					</li>
				</ul>
			</div>
			<!-- /Left Sidebar Menu -->
			
			<!-- Right Sidebar Menu -->

			<!-- /Right Sidebar Menu -->
				
			
		
        <!-- Main Content -->
        	<div class="page-wrapper sticky">
            <div class="container pt-30 ">
				<!-- Row -->
				<!-- Title -->
				<div class="row heading-bg">
					<div class="col-lg-3 col-md-4 col-sm-4 col-xs-12">
					  <h5 class="txt-dark">contact</h5>
					</div>
					<!-- Breadcrumb -->
					<div class="col-lg-9 col-sm-8 col-md-8 col-xs-12">
					  <ol class="breadcrumb">
						<li><a href="index.html">Dashboard</a></li>
						<li><a href="#"><span>apps</span></a></li>
						<li class="active"><span>contact list</span></li>
					  </ol>
					</div>
					<!-- /Breadcrumb -->
				</div>
				<!-- /Title -->
				<div class="row ">
					<div class="col-sm-12 ">
							<div class="panel panel-default border-panel card-view">
							<div class="panel-heading">
									<div class="pull-left">
										<h6 class="panel-title txt-dark">Transaction Details</h6>

									</div>
									<div class="clearfix"></div>
									<div class="row">
									<div class="col-sm-3"><label class="control-label mb-10">First Name</label>
									<input type="text" class="form-control" value="" id="name1">
									</div>
									<div class="col-sm-3">
									<label class="control-label mb-10">Last Name</label>
									<input type="text" class="form-control" value="" id="name2">
									</div>

									<div class="col-sm-3">
									<button class="btn  btn-primary btn-outline btn-rounded" id="add button" onclick="testClick()">Add to DB</button>
									</div>
									</div>
									<div class="row">
										<div class="panel-wrapper collapse in">
								<div class="panel-body sticky">
									<div class="table-wrap">
										<div class="table-responsive ">
											<table id="datable_1" class="table table-hover display  pb-30" >
												<thead>
													<tr>
														<th>Name</th>
														<th>Position</th>
														<th>Office</th>
														<th>Age</th>
														<th>Start date</th>
													</tr>
												</thead>

												<tbody>

												</tbody>

									</div>

							</div>
				</div>
				</div>
				</div>


        <!-- /Main Content -->

    </div>
    <!-- /#wrapper -->
	
	<!-- JavaScript -->
	<script type="text/javascript">


		function appendUserstoTable(resultArr, number_of_pages){

			console.log("The result array is", resultArr);

			var table = document.getElementById("datable_1");

			for (var i = 0; i < 5; i++) {

				var row = table.insertRow(1);
				var cell1 = row.insertCell(0);
					var cell2 = row.insertCell(1);
					var cell3 = row.insertCell(2);
					var cell4 = row.insertCell(3);
					var cell5 = row.insertCell(4);
					cell1.innerHTML = resultArr[i].first_name;
					cell2.innerHTML = resultArr[i].last_name;

			};

		}

		function getNumPages(num){

			var number_of_pages = 1;
			var fraction = num/5;
			if ((num % 5) < 5 ){
				number_of_pages = Math.round(num/5);
			}else{
				number_of_pages = Math.round((num - 1)/5);
			}
			return number_of_pages;

		}

		function refreshTable(){

			var table = document.getElementById("datable_1");
			var num_rows = document.getElementById(tableId).getElementsByTagName("tbody")[0].getElementsByTagName("tr");
			var num_rows_length = num_rows.length;
			for (var i = 0; i < num_rows; i++) {
				
				document.getElementById(tableId).getElementsByTagName("tbody")[0].deleterow(i);

			}
			getAllUsers();



		}


		function getAllUsers(){

			console.log("get All users clicked");
				var xmlhttp = new XMLHttpRequest();
				var url = "/test/getUsers";

				xmlhttp.onreadystatechange = function() {
				    if (this.readyState == 4 && this.status == 200) {
				        var resultArr = JSON.parse(this.responseText);
				        console.log("Number of Results are ", resultArr.length);
				        // if number of results per page is 5, then number of pages is Num/5
				        var number_of_pages = getNumPages(resultArr.length);
				        console.log("number_of_pages is ", number_of_pages);
				        //refreshTable(resultArr,number_of_pages);
				        appendUserstoTable(resultArr,number_of_pages);
				    }
				};
				xmlhttp.open("GET", url, true);
				xmlhttp.send();
		}

		


		function testClick() {
    			
    			console.log("Button Clicked");
				var yourUrl = '/test/postUser';

				var first_name = document.getElementById("name1").value;
				var last_name = document.getElementById("name2").value;

    			var xhr = new XMLHttpRequest();
				xhr.open("POST", yourUrl, true);
				xhr.setRequestHeader('Content-Type', 'application/json');

				xhr.onreadystatechange = function() {//Call a function when the state changes.
    			if(this.readyState == XMLHttpRequest.DONE && this.status == 200) {

    				toastr.options = {
 					 "closeButton": true,
 					 "debug": false,
					  "newestOnTop": false,
					  "progressBar": false,
					  "positionClass": "toast-top-center",
					  "preventDuplicates": false,
					  "onclick": null,
					  "showDuration": "100",
					  "hideDuration": "1000",
					  "timeOut": "759",
					  "extendedTimeOut": "1000",
					  "showEasing": "swing",
					  "hideEasing": "linear",
					  "showMethod": "fadeIn",
					  "hideMethod": "fadeOut"
						};
					toastr.success('Have fun storming the castle!', xhr.responseText);

					refreshTable();


    				}
				}

				xhr.send(JSON.stringify({
    					first_name: first_name,
    					last_name: last_name,
				}));
				

            // The function returns the product of p1 and p2
			};


	</script>
    <!-- jQuery -->
    <script src="/vendors/bower_components/jquery/dist/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="/vendors/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    
	<!-- Data table JavaScript -->
	<script src="/vendors/bower_components/datatables/media/js/jquery.dataTables.min.js"></script>
	
	<!-- Slimscroll JavaScript -->
	<script src="javascripts/dist/js/jquery.slimscroll.js"></script>
	
	<!-- Progressbar Animation JavaScript -->
	<script src="/vendors/bower_components/waypoints/lib/jquery.waypoints.min.js"></script>
	<script src="/vendors/bower_components/jquery.counterup/jquery.counterup.min.js"></script>
	
	<!-- Fancy Dropdown JS -->
	<script src="javascripts/dropdown-bootstrap-extended.js"></script>
	
	<!-- Sparkline JavaScript -->
	<script src="/vendors/jquery.sparkline/dist/jquery.sparkline.min.js"></script>
	
	<!-- Owl JavaScript -->
	<script src="../vendors/bower_components/owl.carousel/dist/owl.carousel.min.js"></script>
	
	<!-- Switchery JavaScript -->
	<script src="../vendors/bower_components/switchery/dist/switchery.min.js"></script>
	
	<!-- Vector Maps JavaScript -->
    <script src="../vendors/vectormap/jquery-jvectormap-2.0.2.min.js"></script>
	<script src="../vendors/vectormap/jquery-jvectormap-us-aea-en.js"></script>
    <script src="../vendors/vectormap/jquery-jvectormap-world-mill-en.js"></script>
	<script src="javascripts/dist/js/vectormap-data.js"></script>
	
	<!-- Toast JavaScript 
	<script src="../vendors/bower_components/jquery-toast-plugin/dist/jquery.toast.min.js"></script>
	-->
	<!-- Piety JavaScript -->
	<script src="../vendors/bower_components/peity/jquery.peity.min.js"></script>
	<script src="javascripts/dist/js/peity-data.js"></script>
	
	<!-- EChartJS JavaScript -->
	<script src="../vendors/bower_components/echarts/dist/echarts-en.min.js"></script>
	
	<!-- Morris Charts JavaScript -->
    <script src="../vendors/bower_components/raphael/raphael.min.js"></script>
    <script src="../vendors/bower_components/morris.js/morris.min.js"></script>
    <script src="../vendors/bower_components/jquery-toast-plugin/dist/jquery.toast.min.js"></script>
	
	<!-- ChartJS JavaScript -->
	<script src="../vendors/chart.js/Chart.min.js"></script>
	<script src= "javascripts/toastr.min.js"></script>
	<!-- Init JavaScript -->
	<script src="javascripts/dist/js/init.js"></script>
	

	<script src="javascripts/dist/js/dashboard-data.js"></script>
	<script type="text/javascript">
		
		$(document).ready(function(){
		    getAllUsers();

		});

	</script>
</body>

</html>
